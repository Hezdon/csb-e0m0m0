(this["webpackJsonpupload-test-app"]=this["webpackJsonpupload-test-app"]||[]).push([[0],{49:function(e){e.exports=JSON.parse('{"a":" https://trans-reconciliation.herokuapp.com/api/v1/"}')},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a,c=n(1),i=n(15),r=n.n(i),s=(n(55),n(18)),l=n(17),o=n(50),d=n(102),j=n(11),b=n(12),h=b.a.div(a||(a=Object(j.a)(["\n  width: 100%;\n  max-width: 700px;\n  margin: 2em auto;\n  padding: 2em;\n  font-size: 85%;\n  background-color: white;\n\n  form {\n    & > * + * {\n      margin-top: 2em;\n    }\n  }\n"]))),u=n(48),m=n.n(u),x=n(49),O=m.a.create({baseURL:x.a});O.interceptors.request.use((function(e){return e.headers["Content-Type"]="multipart/form-data",e}),(function(e){return Promise.reject(e)}));var p,f,g,v,y=O,k=n(87),N=n(88),w=n(89),F=n(90),M=n(2),T=b.a.li(p||(p=Object(j.a)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 1fr;\n  font-size: 12px;\n  gap: 5px;\n  justify-items: flex-start;\n"]))),R=function(e){var t=e.title,n=e.content,a=e.style;return Object(M.jsxs)(T,{style:a,children:[Object(M.jsx)("div",{className:"truncate",children:t}),Object(M.jsx)("div",{className:"truncate bold",children:n||"N/A"})]})},D=b.a.div(f||(f=Object(j.a)(["\n  padding: 0 2em;\n\n  .title {\n    font-size: 1.2rem;\n    font-weight: 500;\n  }\n\n  .content {\n    width: 100%;\n    padding: 1em 0em;\n\n    .card-box {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-wrap: wrap;\n      gap: 20px;\n\n      & > div {\n        flex: 1;\n        min-width: 250px;\n        max-width: 100%;\n      }\n    }\n  }\n"]))),S=function(e){var t=e.values,n=e.setPageState,a=e.comparationData;console.log({comparationData:a});var c=function(e){return[{key:"totalTransactionNum",title:"Total Records",content:e.totalTransactionNum},{key:"matchedTransactionNum",content:e.matchedTransactionNum,title:"Matching Records"},{key:"unmatchedTransactionNum",title:"Unmatched Records",content:e.unmatchedTransactionNum}]};return Object(M.jsxs)(D,{children:[Object(M.jsx)("h2",{className:"title",children:"Comparison Results"}),Object(M.jsxs)("div",{className:"content",children:[Object(M.jsxs)("div",{className:"card-box",children:[Object(M.jsxs)(k.a,{children:[Object(M.jsx)(N.a,{className:"bold large",children:t.paymentologyMarkOffFile.name}),Object(M.jsx)(w.a,{children:Object(M.jsx)(F.a,{children:c(a.paymentologyReconciliationData).map((function(e){var t=e.key,n=e.title,a=e.content;return Object(M.jsx)(R,{title:n,content:a},t)}))})})]}),Object(M.jsxs)(k.a,{children:[Object(M.jsx)(N.a,{className:"bold large",children:t.clientMarkOffFile.name}),Object(M.jsx)(w.a,{children:Object(M.jsx)(F.a,{children:c(a.clientReconciliationData).map((function(e){var t=e.key,n=e.title,a=e.content;return Object(M.jsx)(R,{title:n,content:a},t)}))})})]})]}),Object(M.jsx)("div",{className:"centered mt-4",children:Object(M.jsx)("button",{type:"button",onClick:function(){return n((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasMatchedResult:!0})}))},className:"btn btn-primary",children:"Unmatched Report"})})]})]})},C=n(103),U=n(91),z=n(92),P=n(93),V=n(94),A=n(95),L=n(96),I=n(97),E=n(98),J=n(99),B=n(100),q=n(101),G=b.a.div(g||(g=Object(j.a)(["\n  padding: 0 2em;\n\n  .content {\n    width: 100%;\n    padding: 1em 0em;\n\n    .navitem {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      border-bottom: 1px solid rgb(85, 216, 189);\n      padding: 0;\n\n      .navlink {\n        flex: 1;\n        border-radius: 0;\n        padding: 1em;\n        font-weight: 400;\n        min-width: 10em;\n        text-align: center;\n        cursor: context-menu;\n        border-bottom: 2px solid transparent;\n\n        &:hover {\n          font-weight: 500;\n        }\n\n        &.active {\n          border-width: 2px;\n          border-top-left-radius: 7px;\n          border-top-right-radius: 7px;\n          border-color: rgb(85, 216, 189);\n          font-weight: 700;\n\n          &::after {\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  tr th {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]))),H=function(e){var t=e.comparationData,n=Object(c.useState)("tutuka"),a=Object(l.a)(n,2),i=a[0],r=a[1],s=Object(c.useState)(void 0),o=Object(l.a)(s,2),d=o[0],j=o[1],b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(M.jsx)("tbody",{children:e.map((function(e){var n=e.transactionId,a=e.suggestedMatchTransactions,c=e.transactionDate,i=e.transactionAmount,r=e.transactionDescription,s=e.transactionNarrative;return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:new Date(c).toLocaleDateString()}),Object(M.jsx)("td",{children:i.toLocaleString()}),Object(M.jsx)("td",{clasName:"".concat("DEDUCT"===r?"error-box":"success-box"),children:r.toLowerCase()}),Object(M.jsx)("td",{children:s}),t&&Object(M.jsx)("td",{children:Object(M.jsx)("button",{onClick:function(){return j(a)},type:"button",className:"btn btn-outline-info small",children:"View"})})]},n)}))})};if(d){var h=function(){return j(void 0)};return Object(M.jsxs)(C.a,{isOpen:!0,toggle:h,children:[Object(M.jsxs)(U.a,{className:"bold large",toggle:h,children:["Priority Level (%): %",d.priority]}),Object(M.jsx)(z.a,{children:Object(M.jsxs)(P.a,{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Transaction Date"}),Object(M.jsx)("th",{children:"Transaction Amount"}),Object(M.jsx)("th",{children:"Reference"}),Object(M.jsx)("th",{children:"Narrative"})]})}),b([d.suggestedMatchTransactions],!1)]})}),Object(M.jsx)(V.a,{children:Object(M.jsx)(A.a,{color:"secondary",onClick:h,children:"Match"})})]})}return Object(M.jsxs)(G,{children:[Object(M.jsx)("h2",{className:"large bold",children:"Unmatched Reports"}),Object(M.jsxs)("div",{className:"content",children:[Object(M.jsxs)(L.a,{tabs:!0,className:"navitem",children:[Object(M.jsx)(I.a,{children:Object(M.jsxs)(E.a,{className:"navlink ".concat("tutuka"===i?"active":""),onClick:function(){return r("tutuka")},children:[" ","Base Records"]})}),Object(M.jsx)(I.a,{children:Object(M.jsx)(E.a,{className:"navlink ".concat("client"===i?"active":""),onClick:function(){return r("client")},children:"Client Records"})})]}),Object(M.jsxs)(J.a,{activeTab:i,children:[Object(M.jsx)(B.a,{tabId:"tutuka",children:Object(M.jsx)(q.a,{children:Object(M.jsxs)(P.a,{responsive:!0,children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Transaction Date"}),Object(M.jsx)("th",{children:"Transaction Amount"}),Object(M.jsx)("th",{children:"Reference"}),Object(M.jsx)("th",{children:"Narrative"}),Object(M.jsx)("th",{style:{width:150},children:"View"})]})}),b(t.paymentologyReconciliationData.unmatchedTransactions)]})})}),Object(M.jsx)(B.a,{tabId:"client",children:Object(M.jsx)(q.a,{children:Object(M.jsxs)(P.a,{responsive:!0,children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Transaction Date"}),Object(M.jsx)("th",{children:"Transaction Amount"}),Object(M.jsx)("th",{children:"Reference"}),Object(M.jsx)("th",{children:"Narrative"})]})}),b(t.clientReconciliationData.unmatchedTransactions)]})})})]})]})]})},K=b.a.div(v||(v=Object(j.a)(["\n  padding: 0 2em;\n\n  & > * + * {\n    margin-top: 2em;\n  }\n\n  .title {\n    font-size: 1.2rem;\n    font-weight: 500;\n  }\n\n  .content {\n    display: flex;\n    align-items: flex-end;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    gap: 20px;\n\n    .upload-box {\n      width: 100%;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n      gap: 15px;\n\n      label {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        gap: 10px;\n\n        span {\n          display: inline-block;\n          width: 100%;\n          min-width: 200px;\n          flex: 1;\n          height: 40px;\n          border: 3px solid #eee;\n          border-radius: 7px;\n          padding: 0.6em 1em;\n        }\n      }\n    }\n  }\n"]))),Q=function(e){var t,n,a,c=e.errors,i=e.values,r=e.setFieldError,s=e.setFieldValue,l=function(e,t){e.persist();var n=e.currentTarget.files[0];if(n||r(t,"Upload a File"),n.size>3e5)return r(t,"File size exceeds maximum size allowed"),void setTimeout((function(){return r(t,"")}),1500);"undefined"!==typeof n&&(console.log({file:n}),s(t,n))};return Object(M.jsxs)(K,{children:[Object(M.jsx)("h2",{className:"title",children:"Transaction files"}),null!==c&&void 0!==c&&c.paymentologyMarkOffFile?Object(M.jsx)("div",{className:"error-box",children:c.paymentologyMarkOffFile}):null,null!==c&&void 0!==c&&c.clientMarkOffFile?Object(M.jsx)("div",{className:"error-box",children:c.clientMarkOffFile}):null,Object(M.jsxs)("div",{className:"content",children:[Object(M.jsxs)("div",{className:"upload-box",children:[Object(M.jsxs)("label",{htmlFor:"paymentologyMarkOffFile",children:[Object(M.jsx)("span",{children:null!==(t=null===(n=i.paymentologyMarkOffFile)||void 0===n?void 0:n.name)&&void 0!==t?t:"Select Paymentology Transaction File"}),Object(M.jsx)("div",{className:"btn btn-outline-success",type:"button",children:"Upload"})]}),Object(M.jsxs)("label",{htmlFor:"clientMarkOffFile",children:[Object(M.jsx)("span",{children:(null===(a=i.clientMarkOffFile)||void 0===a?void 0:a.name)||"Select Client Transaction File"}),Object(M.jsx)("div",{className:"btn btn-outline-success",type:"button",children:"Upload"})]}),Object(M.jsx)("input",{type:"file",className:"visually-hidden",accept:".csv",id:"paymentologyMarkOffFile",name:"paymentologyMarkOffFile",onChange:function(e){return l(e,"paymentologyMarkOffFile")}}),Object(M.jsx)("input",{type:"file",className:"visually-hidden",accept:".csv",id:"clientMarkOffFile",name:"clientMarkOffFile",onChange:function(e){return l(e,"clientMarkOffFile")}})]}),Object(M.jsx)("button",{style:{width:"13em"},className:"btn btn-primary mt-auto",type:"submit",children:"Reconcile Transaction"})]})]})},W=function(){var e=Object(c.useState)({hasCompared:!1,hasMatchedResult:!1}),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(),r=Object(l.a)(i,2),j=r[0],b=r[1],u=Object(o.a)({initialValues:{},onSubmit:function(e,t){var n=t.setSubmitting,c=new FormData;c.append("paymentologyMarkOffFile",e.paymentologyMarkOffFile),c.append("clientMarkOffFile",e.clientMarkOffFile),n(!0),y({url:"transaction/reconciliation",method:"POST",data:c}).then((function(e){var t=e.data;b(t.data),a((function(e){return Object(s.a)(Object(s.a)({},e),{},{hasCompared:!0})}))})).catch((function(e){return console.log({error:e})})).finaly((function(){return n(!1)}))}}),m=u.values,x=u.handleSubmit,O=u.setFieldValue;return Object(M.jsx)(h,{children:Object(M.jsxs)(d.a,{onSubmit:x,children:[Object(M.jsx)(Q,{values:m,setFieldValue:O}),n.hasCompared&&m&&Object(M.jsx)(S,{values:m,setPageState:a,comparationData:j}),n.hasMatchedResult&&Object(M.jsx)(H,{comparationData:j})]})})};n(85);function X(){return Object(M.jsx)(W,{})}var Y=document.getElementById("root");r.a.render(Object(M.jsx)(c.StrictMode,{children:Object(M.jsx)(X,{})}),Y)}},[[86,1,2]]]);
//# sourceMappingURL=main.0bf50b00.chunk.js.map